<app-loading-screen *ngIf="loading"></app-loading-screen>

<div class="main" *ngIf="!loading">
  <div class="container align-content-center text-center pt-5">
    <div class="content">
      <!--  Introductory panel-->
      <div class="container info-panel p-4">
        <div class="row">

          <div class="col-xs-2 col-md-7 col-lg-8 col-xl-9 text-xs-center text-sm-center text-md-start">
            <h3 class="name-text">{{jobFair.name}}</h3>

            <h6 class="mt-3"> Czas rozpoczęcia targów:  <i>{{jobFair.dateStart}} </i></h6>
            <h6> Czas zakończenia targów:  <i>{{jobFair.dateEnd}}</i></h6>
            <h6> Adres:  <i>{{jobFair.address}}</i></h6>
            <h6> Organizator targów: <i class="btn-link pointer" [routerLink]="'/organizer/'+jobFair.organizerId"> Organizator</i></h6>

            <p class="text-description" *ngIf="jobFair.description"> {{jobFair.description}} </p>
          </div>

        </div>
      </div>

      <!--  Empolyers Panel-->
      <div class="container info-panel p-4">
        <!-- Pills navs -->
        <div class="row nav nav-pills mb-3" id="ex1" role="tablist">
          <div class="col nav-item" role="presentation">
            <h1
                    class="nav-link {{getPaginationService().isActiveById('employers',paginationUseList)? 'active' : ''}}"
                    id="ex1-tab-1"
                    data-mdb-toggle="pill"
                    (click)="getPaginationService().changeTab('employers',paginationUseList)"
                    role="tab"
                    aria-controls="ex1-pills-1"
                    aria-selected="true"
            >Pracodawcy</h1
            >
          </div>
          <div class="col nav-item" role="presentation">
            <h1
                    class="nav-link {{getPaginationService().isActiveById('job-offers',paginationUseList)? 'active' : ''}}"
                    id="ex1-tab-2"
                    data-mdb-toggle="pill"
                    (click)="getPaginationService().changeTab('job-offers',paginationUseList)"
                    role="tab"
                    aria-controls="ex1-pills-2"
                    aria-selected="false"
            >Oferty</h1
            >
          </div>
        </div>
        <!-- Pills navs -->

        <!-- Pills content -->
        <div class="tab-content" id="ex1-content">
          <div class="tab-pane fade {{getPaginationService().isActiveById('employers', paginationUseList)? 'show active' : ''}}" id="ex1-pills-1" role="tabpanel" aria-labelledby="ex1-tab-1">
            <!-- Pills content -->
            <mat-paginator (page)="getPaginationService().handlePageEvent($event, 'employers', paginationUseList)"
                           [length]="length"
                           [pageSize]="pageSize"
                           [pageSizeOptions]="[5, 10, 25, 100]"
                           aria-label="Select page">
            </mat-paginator>
            <hr>

            <div class="">
              <app-loading-screen *ngIf="getPaginationService().getPaginationUseById('employers',paginationUseList)?.loading"></app-loading-screen>
              <app-item-list [items]="getPaginationService().getDisplayListById('employers',paginationUseList)" *ngIf="!getPaginationService().getPaginationUseById('employers',paginationUseList)?.loading"
                             [filters]="filters"></app-item-list>
            </div>

          </div>
          <div class="tab-pane fade {{getPaginationService().isActiveById('job-offers', paginationUseList)? 'show active' : ''}}" id="ex1-pills-2" role="tabpanel" aria-labelledby="ex1-tab-2">
              <!-- Pills content -->
              <mat-paginator (page)="getPaginationService().handlePageEvent($event, 'job-offers', paginationUseList)"
                             [length]="length"
                             [pageSize]="pageSize"
                             [pageSizeOptions]="[5, 10, 25, 100]"
                             aria-label="Select page">
              </mat-paginator>
              <hr>

              <div class="">
                <app-loading-screen *ngIf="getPaginationService().getPaginationUseById('job-offers',paginationUseList)?.loading"></app-loading-screen>
                <app-item-list [items]="getPaginationService().getDisplayListById('job-offers',paginationUseList)" *ngIf="!getPaginationService().getPaginationUseById('employers',paginationUseList)?.loading"
                               [filters]="filters"></app-item-list>
              </div>

          </div>
        </div>

      </div>


        <hr>

        <!--  Actions Panel-->
        <div class="row align-items-center pt-5 text-center">
          <div class="col-sm-12 col-md-6">
            <button class="btn btn-primary w-100 btn-login text-center" routerLink="/organizer/1/job-fair/2/edit-form">Edytuj informacje
            </button>
          </div>
        </div>



      </div>
    </div>
  </div>

